<div class="component-wrapper">
  <h1 id="description-title">{{election.name}}</h1>

  <h2>Description</h2>
  <md-card class="info-text">
    <p>
      {{election.description}}
    </p>
  </md-card>


  <div *ngIf="votable">
    <div *ngIf="token !== null && token !== undefined">
      <div *ngIf="!canVote">
        <p>Sorry, your account does not belong to the conference participants list. You must be registered with the same account as the one you used to register to the conference. If you believe this is an error, please send an email to sympozer-adm@sympozer.com</p>
      </div>
      <div *ngIf="canVote">
        <div *ngIf="hasVoted == true && justVoted == false">
          <p>You have already voted in this track. Your vote has not been taken into account.</p>
        </div>
        <div *ngIf="hasVoted == true && justVoted == true">
          <p>Your vote has been succesfully recorded.</p>
        </div>
        <div *ngIf="!hasVoted">
          <h2>Vote</h2>
          <md-card class="info-text vote">
            <p>Caution! You can vote only once.</p>
            <div>
              <button md-raised-button color="primary" (click)="vote()">Submit Vote</button>
            </div>
          </md-card>
        </div>
      </div>
    </div>
    <div *ngIf="token == undefined && token == null">
      <md-card class="info-text vote">
        <p>Please login to be able to vote.</p>
        <button md-raised-button color="primary" [routerLink]="['/login']">Login</button>
      </md-card>
    </div>
  </div>

  <div *ngIf="testId == 'createElection'">
    <div class="election-wrapper">
      <md-card class="inscription-card">
        <div class="header">
          <h4>Create an election</h4>
        </div>
        <div class="inscription-form">
          <br>
          <form>
            <md-input-container>
              <input #name mdInput type="name" placeholder="Name">
            </md-input-container>

            <md-input-container>
              <input #description mdInput type="description" placeholder="Description">
            </md-input-container>

            <md-input-container>
              <input #idResource mdInput type="idResource" placeholder="Resource">
            </md-input-container>
            
            <md-input-container>
              <input #dateBegin mdInput type="dateBegin" placeholder="Begin date">
            </md-input-container>

            <md-input-container>
              <input #dateEnd mdInput type="dateEnd" placeholder="End date">
            </md-input-container>
    
            <div class="inscription-footer">
              <button md-button (click)="createElection(name.value, description.value, idResource.value, dateBegin.value, dateEnd.value)">Create</button>
            </div>
          </form>
        </div>
      </md-card>
    </div>
    
  </div>
</div>
